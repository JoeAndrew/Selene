#!./Selene --dfb:quiet 

function test()
	print("in test\n");
end

Brk, err = SelMQTT.connect( "tcp://localhost:1883", { reliable=false  } )
if not Brk then
	print( err )
	return
end

_, err = Brk:subscribe( { { topic = "/tata", func=test, qos=SelMQTT.QoSConst("QoS0") }, { topic = "/toto",func=test } } )
if err then
	print( err )
	return
end

code = SelMQTT.ErrConst("MQTTCLIENT_DISCONNECTED")
print(code, SelMQTT.StrError(code))
